{"ast":null,"code":"import _asyncToGenerator from \"/home/supruniuk/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/EPAM/steam-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { HttpClientTestingModule } from '@angular/common/http/testing';\nimport { TestBed } from '@angular/core/testing';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { RouterTestingModule } from '@angular/router/testing';\nimport { EMPTY } from 'rxjs';\nimport { UserService } from 'src/app/shared/services/user.service';\nimport { GameItemComponent } from './game-item.component';\ndescribe('GameItemComponent', () => {\n  let component;\n  let userService;\n  let newGame = {\n    description: 'description3',\n    id: 'id3',\n    price: 150,\n    tag: ['adventure'],\n    title: 'title3'\n  };\n  let existingGame = {\n    description: 'description1',\n    id: 'id1',\n    price: 150,\n    tag: ['adventure'],\n    title: 'title1'\n  };\n  let info = {\n    age: 50,\n    email: 'exmple@gmail.com',\n    friendsList: [],\n    gamesList: [{\n      id: 'id1'\n    }],\n    id: '-MwDFeGzNW8gbGRQicfQ',\n    username: 'test'\n  };\n  beforeEach( /*#__PURE__*/_asyncToGenerator(function* () {\n    yield TestBed.configureTestingModule({\n      declarations: [GameItemComponent],\n      imports: [HttpClientTestingModule, RouterTestingModule, ReactiveFormsModule]\n    }).compileComponents();\n    userService = TestBed.inject(UserService);\n    component = new GameItemComponent(userService);\n    spyOn(userService, 'getCurrentUserInfo').and.callFake(() => {\n      return info;\n    });\n    spyOn(userService, 'setCurrentUserInfo').and.callFake(() => {\n      return EMPTY;\n    });\n  }));\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n  it('should call updateUser when saving game', () => {\n    component.game = newGame;\n    component.ngOnInit();\n    const spy = spyOn(userService, 'updateUser').and.callFake(() => {\n      return EMPTY;\n    });\n    component.addGame();\n    expect(spy).toHaveBeenCalled();\n  });\n  it('shouldn`t add game if user saved it', () => {\n    component.game = existingGame;\n    component.ngOnInit();\n    const spy = spyOn(userService, 'updateUser').and.callFake(() => {\n      return EMPTY;\n    });\n    component.addGame();\n    expect(component.isSubmitted).toBeTruthy();\n  });\n});","map":{"version":3,"sources":["/home/supruniuk/Рабочий стол/EPAM/steam-app/src/app/components/games-page/game-item/game-item.component.spec.ts"],"names":["HttpClientTestingModule","TestBed","ReactiveFormsModule","RouterTestingModule","EMPTY","UserService","GameItemComponent","describe","component","userService","newGame","description","id","price","tag","title","existingGame","info","age","email","friendsList","gamesList","username","beforeEach","configureTestingModule","declarations","imports","compileComponents","inject","spyOn","and","callFake","it","expect","toBeTruthy","game","ngOnInit","spy","addGame","toHaveBeenCalled","isSubmitted"],"mappings":"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","sourcesContent":["import { HttpClientTestingModule } from '@angular/common/http/testing';\nimport { TestBed } from '@angular/core/testing';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { RouterTestingModule } from '@angular/router/testing';\nimport { EMPTY } from 'rxjs';\nimport { UserService } from 'src/app/shared/services/user.service';\nimport { GameItemComponent } from './game-item.component';\ndescribe('GameItemComponent', () => {\n    let component;\n    let userService;\n    let newGame = {\n        description: 'description3',\n        id: 'id3',\n        price: 150,\n        tag: ['adventure'],\n        title: 'title3',\n    };\n    let existingGame = {\n        description: 'description1',\n        id: 'id1',\n        price: 150,\n        tag: ['adventure'],\n        title: 'title1',\n    };\n    let info = {\n        age: 50,\n        email: 'exmple@gmail.com',\n        friendsList: [],\n        gamesList: [{ id: 'id1' }],\n        id: '-MwDFeGzNW8gbGRQicfQ',\n        username: 'test',\n    };\n    beforeEach(async () => {\n        await TestBed.configureTestingModule({\n            declarations: [GameItemComponent],\n            imports: [\n                HttpClientTestingModule,\n                RouterTestingModule,\n                ReactiveFormsModule,\n            ],\n        }).compileComponents();\n        userService = TestBed.inject(UserService);\n        component = new GameItemComponent(userService);\n        spyOn(userService, 'getCurrentUserInfo').and.callFake(() => {\n            return info;\n        });\n        spyOn(userService, 'setCurrentUserInfo').and.callFake(() => {\n            return EMPTY;\n        });\n    });\n    it('should create', () => {\n        expect(component).toBeTruthy();\n    });\n    it('should call updateUser when saving game', () => {\n        component.game = newGame;\n        component.ngOnInit();\n        const spy = spyOn(userService, 'updateUser').and.callFake(() => {\n            return EMPTY;\n        });\n        component.addGame();\n        expect(spy).toHaveBeenCalled();\n    });\n    it('shouldn`t add game if user saved it', () => {\n        component.game = existingGame;\n        component.ngOnInit();\n        const spy = spyOn(userService, 'updateUser').and.callFake(() => {\n            return EMPTY;\n        });\n        component.addGame();\n        expect(component.isSubmitted).toBeTruthy();\n    });\n});\n"]},"metadata":{},"sourceType":"module"}