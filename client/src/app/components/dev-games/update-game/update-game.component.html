<div class="backdrop"></div>

<form [formGroup]="game" class="center-block modalWindow p-3">
  <app-allert></app-allert>

  <div class="form-group">
    <label>Title</label>
    <input
      class="form-control"
      formControlName="title"
      type="text"
      placeholder="Title"
    />

    <div *ngIf="game.get('title').invalid && game.get('title').touched">
      <small class="text-danger" *ngIf="game.get('title').errors.required">
        Field "title" can`t be empty
      </small>
    </div>
  </div>

  <div class="form-group">
    <label>Price</label>
    <input class="form-control" formControlName="price" type="number" min="0" />

    <div *ngIf="game.get('price').invalid && game.get('price').touched">
      <small class="text-danger" *ngIf="game.get('price').errors.required">
        Field "price" can`t be empty
      </small>
    </div>
  </div>

  <div class="form-group">
    <label>Description</label>
    <textarea
      rows="4"
      class="form-control"
      formControlName="description"
    ></textarea>

    <div
      *ngIf="game.get('description').invalid && game.get('description').touched"
    >
      <small
        class="text-danger"
        *ngIf="game.get('description').errors.required"
      >
        Field "description" can`t be empty
      </small>
    </div>
  </div>

  <div class="form-group">
    <div class="form-check" *ngFor="let tag of possibleTagOptions">
      <input
        #tag
        class="form-check-input"
        type="checkbox"
        name="tag"
        value="{{ tag }}"
        [checked]="editGame.tags.indexOf(tag)"
      />
      <label class="form-check-label" for="flexCheckIndeterminate"
        >{{ tag[0].toLocaleUpperCase() + tag.slice(1) }}
      </label>
    </div>
  </div>

  <div class="d-flex justify-content-between">
    <button
      class="btn btn-purple custom-shadow w-100 mx-3"
      [disabled]="isBtnDisabled()"
      (click)="update()"
    >
      Update
    </button>
    <button
      class="btn btn-purple custom-shadow w-100 mx-3"
      (click)="closeWindow()"
    >
      Cancel
    </button>
  </div>
</form>
